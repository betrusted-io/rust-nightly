From 4796c7921d58abf8c7d1d62c453d9cfe85927c1e Mon Sep 17 00:00:00 2001
From: Sean Cross <sean@xobs.io>
Date: Wed, 28 Aug 2024 20:42:27 +0800
Subject: [PATCH 3/7] xous: ffi: correct syscall number for adjust_process

The AdjustProcessLimit syscall was using the correct call number.

Signed-off-by: Sean Cross <sean@xobs.io>
---
 library/std/src/os/xous/ffi.rs | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/library/std/src/os/xous/ffi.rs b/library/std/src/os/xous/ffi.rs
index 1a4a940bf35..1db314e9dda 100644
--- a/library/std/src/os/xous/ffi.rs
+++ b/library/std/src/os/xous/ffi.rs
@@ -615,7 +615,7 @@ pub(crate) fn thread_id() -> Result<ThreadId, Error> {
 /// An error is generated if the `knob` is not a valid limit, or if the call
 /// would not succeed.
 pub(crate) fn adjust_limit(knob: Limits, current: usize, new: usize) -> Result<usize, Error> {
-    let mut a0 = Syscall::JoinThread as usize;
+    let mut a0 = Syscall::AdjustProcessLimit as usize;
     let mut a1 = knob as usize;
     let a2 = current;
     let a3 = new;
-- 
2.40.0.windows.1

